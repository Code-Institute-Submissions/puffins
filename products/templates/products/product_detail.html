{% extends "base.html" %}
{% load static %}
{% block extra-title %}- {{ product.display_text  }}{% endblock %}
{% block content %}
<div class="shadow-for-nav"></div>

<div class="container">
	<div class="row">
		<div class="col-md-7 col-lg-7 col-sm">
			<div class="image-container my-5">
            {% if product.image %}
            <img
              class="card-img-top img-fluid"
              src="{{ product.image.url }}"
              alt="{{ product.display_text }}"
            />
        {% else %}
           <img
              class=""
              src="{MEDIA_URL }}noimage.png"
              alt="{{ product.display_text }}"
            />
        {% endif %}
			</div>
		</div>
		<div class="col-md-5 col-lg-5 col-sm">
			<div class="product-details-container mb-5 mt-md-5">
				<h1 class="product-details-title">{{ product.display_text | title }}</h1>
				<div class="price-container">
					{% if product.is_on_sale or product.avail_for_pre_order %}
					<div class="d-inline lead mr-3 font-weight-bold">{{ product.discount_price }}€</div>
					<div class="d-inline lead font-weight-bold original-price"><s>{{ product.price }}€</s></div>
					{% else %}
					<div class="d-inline lead font-weight-bold">{{ product.price }}€</div>
					{% endif %}
				</div>
				<div class="order-container">

               <form action="{% url 'add_to_cart' %}" method="POST">
               {% csrf_token %}
					{% if product_variants.count > 1 %}
					<div class="size-container">
                    <div class="form-group">
                        <select class="form-control" id="ddlproductvariants" name="productvariant">
						{% for variant in product_variants %}
                            {% if variant.quantity == 0 %}
                                <option value="{{ variant.id }}" disabeld>{{ variant.size }}</option>
                            {% else %}
                                <option value="{{ variant.id }}">{{ variant.size }}</option>
                            {% endif %}
						{% endfor %}
                        </select>
					</div>
					<div class="add-2-cart-container">
						<button type="submit" class="btn btn-primary">ADD TO CART</button>
					</div>
                    {% else %}
                        {% for variant in product_variants %}
                    <div class="add-2-cart-container">
						<button type="submit" class="btn btn-primary" name="productvariant"value="{{ variant.id }}">ADD TO CART</button>
					</div>
                        {% endfor %}
                    {% endif %}
                    <input type="hidden" name="redirect_url" value="{{ request.path }}">
                </form>

					<hr>
					<div class="product-description">{{ product.description }}</div>
					<hr>
					<div class="design-feedback">DESIGNED IN HAMBURG. CRAFTED IN EUROPE</div>
					<hr>
					<div class="product-material">
						Material:<br>
                            - {{ product.material_1 | title }}<br>
                            {% if product.material_2 %}
                            - {{ product.material_2 | title }}
                            {% endif %}
                        </div>
						<hr>
						{% if product.avail_for_pre_order %}
						<div class="pre-order-item">
							Pre-Order + Free Shipping<br>
							Dispatch date:<br>
                            {{ product.date_of_dispatch }}
						</div>
						<hr>
						{% endif %}
						<div class="delivery-return-container">
							<p>
								<a class="delivery-return-collpase" data-toggle="collapse" href="#deliveryInfo"
									role="button" aria-expanded="false" aria-controls="deliveryInfo">
									<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-right"
										fill="currentColor" xmlns="http://www.w3.org/2000/svg">
										<path fill-rule="evenodd"
											d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z" />
									</svg> Delivery
								</a>
							</p>
							<div class="collapse" id="deliveryInfo">
								<div class="">
									We offer free delivery for all orders over {{ free_delivery_threshold }}€ within Europe.<br>
                                    Delivery time 1-10 working days.<br>

                                    In case of pre-order items, calculate delivery time from dispatch date.
								</div>
							</div>
							<hr>
							<p>
								<a class="delivery-return-collpase" data-toggle="collapse" href="#returnInfo"
									role="button" aria-expanded="false" aria-controls="returnInfo">
									<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-right"
										fill="currentColor" xmlns="http://www.w3.org/2000/svg">
										<path fill-rule="evenodd"
											d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z" />
									</svg> Return
								</a>
							</p>
							<div class="collapse" id="returnInfo">
								<div class="">
									<p>If you want to return one or more items, please make sure to print and fill the return form with item(s), return reason and refund or Voucher instructions.</p>
                                    <p class="my-2">HOW DO I RETURN ONE OR MORE ITEMS?</p>
                                    <p>IMPORTANT: Make sure to mark items (if damaged - please contact as soon as you see a damage on the received item) and add your name and order number in your parcel.
                                    Please be aware that you are responsible for your return until it reaches our warehouse.</p>
                                    <p>We advise you to always keep the shipping receipt, until you received our confirmation about receiving your parcel. Keep in mind that you are held responsible for the parcel until the items have returned to our warehouse.</p>
                                    <p>ALWAYS add your name and order number to the parcel before returning it. </p>
                        		</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>



{% endblock %}